{"is_source_file": true, "format": "Python", "description": "This file defines Django models for an online shopping platform, including entities such as Category, Product, Cart, CartItem, Order, and OrderItem. It contains model fields, custom save methods for slug generation, and utility methods for calculating totals and string representations.", "external_files": ["django.conf.settings", "django.db.models", "django.utils.text.slugify", "decimal.Decimal"], "external_methods": ["slugify"], "published": ["Category", "Product", "Cart", "CartItem", "Order", "OrderItem"], "classes": [{"name": "TimeStampedModel", "description": "Abstract base model providing created_at and updated_at timestamp fields."}, {"name": "Category", "description": "Model representing product categories with unique names and slugs."}, {"name": "Product", "description": "Model representing products available for purchase, including title, description, price, stock, and category."}, {"name": "Cart", "description": "Model for a user's shopping cart, with a method to compute the subtotal."}, {"name": "CartItem", "description": "Model representing individual items within a cart, including quantity and total calculation."}, {"name": "Order", "description": "Model representing an order placed by a user, with total recalculation logic and status choices."}, {"name": "OrderItem", "description": "Model representing line items within an order, including quantity, unit price, and total line price."}], "methods": [{"name": "save(self, *args, **kwargs)", "description": "Custom save method in Category and Product to generate unique slugs based on name/title.", "scope": "Product", "scopeKind": "class"}, {"name": "__str__(self)", "description": "String representation methods for models to display meaningful info.", "scope": "Product", "scopeKind": "class"}, {"name": "Decimal get_subtotal(self)", "description": "Calculates the total amount of items in a cart.", "scope": "Cart", "scopeKind": "class"}, {"name": "Decimal get_line_total(self)", "description": "Calculates total price for a cart item or order item.", "scope": "OrderItem", "scopeKind": "class"}, {"name": "recalc_total(self)", "description": "Recalculates total_amount for an order based on its items.", "scope": "Order", "scopeKind": "class"}], "calls": ["slugify(self.name)", "super().save(*args, **kwargs)", "Category.objects.filter(slug=slug)", "Product.objects.filter(slug=slug)", "self.items.select_related('product')", "self.items.all()", "item.get_line_total()", "self.total_amount = total"], "search-terms": ["Django models", "slug generation", "shopping cart", "order management", "product categories", "online shop models", "decorator save method", "total calculation"], "state": 2, "file_id": 7, "knowledge_revision": 40, "git_revision": "45b874a6edd9fa6239650e8802a7615e31c0be25", "ctags": [{"_type": "tag", "name": "Cart", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^class Cart(TimeStampedModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "CartItem", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^class CartItem(TimeStampedModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Category", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^class Category(TimeStampedModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "CartItem", "scopeKind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "Product", "scopeKind": "class"}, {"_type": "tag", "name": "Meta", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    class Meta:$/", "language": "Python", "kind": "class", "scope": "TimeStampedModel", "scopeKind": "class"}, {"_type": "tag", "name": "Order", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^class Order(TimeStampedModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "OrderItem", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^class OrderItem(TimeStampedModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Product", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^class Product(TimeStampedModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "STATUS_CHOICES", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    STATUS_CHOICES = [$/", "language": "Python", "kind": "variable", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "TimeStampedModel", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^class TimeStampedModel(models.Model):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    def __str__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "Cart", "scopeKind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    def __str__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "CartItem", "scopeKind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    def __str__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "Category", "scopeKind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    def __str__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "__str__", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    def __str__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "Product", "scopeKind": "class"}, {"_type": "tag", "name": "abstract", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^        abstract = True$/", "language": "Python", "kind": "variable", "scope": "TimeStampedModel.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "cart", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    cart = models.ForeignKey(Cart, on_delete=models.CASCADE, related_name=\"items\")$/", "language": "Python", "kind": "variable", "scope": "CartItem", "scopeKind": "class"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    category = models.ForeignKey($/", "language": "Python", "kind": "variable", "scope": "Product", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    created_at = models.DateTimeField(auto_now_add=True, db_index=True)$/", "language": "Python", "kind": "variable", "scope": "TimeStampedModel", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    description = models.TextField(blank=True)$/", "language": "Python", "kind": "variable", "scope": "Product", "scopeKind": "class"}, {"_type": "tag", "name": "get_line_total", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    def get_line_total(self) -> Decimal:$/", "language": "Python", "typeref": "typename:Decimal", "kind": "member", "signature": "(self)", "scope": "CartItem", "scopeKind": "class"}, {"_type": "tag", "name": "get_line_total", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    def get_line_total(self) -> Decimal:$/", "language": "Python", "typeref": "typename:Decimal", "kind": "member", "signature": "(self)", "scope": "OrderItem", "scopeKind": "class"}, {"_type": "tag", "name": "get_subtotal", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    def get_subtotal(self) -> Decimal:$/", "language": "Python", "typeref": "typename:Decimal", "kind": "member", "signature": "(self)", "scope": "Cart", "scopeKind": "class"}, {"_type": "tag", "name": "indexes", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^        indexes = [$/", "language": "Python", "kind": "variable", "scope": "Product.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "is_active", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    is_active = models.BooleanField(default=True)$/", "language": "Python", "kind": "variable", "scope": "Product", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    name = models.CharField(max_length=120, unique=True)$/", "language": "Python", "kind": "variable", "scope": "Category", "scopeKind": "class"}, {"_type": "tag", "name": "order", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    order = models.ForeignKey(Order, on_delete=models.CASCADE, related_name=\"items\")$/", "language": "Python", "kind": "variable", "scope": "OrderItem", "scopeKind": "class"}, {"_type": "tag", "name": "price", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    price = models.DecimalField(max_digits=10, decimal_places=2)$/", "language": "Python", "kind": "variable", "scope": "Product", "scopeKind": "class"}, {"_type": "tag", "name": "product", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    product = models.ForeignKey($/", "language": "Python", "kind": "variable", "scope": "CartItem", "scopeKind": "class"}, {"_type": "tag", "name": "product", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    product = models.ForeignKey($/", "language": "Python", "kind": "variable", "scope": "OrderItem", "scopeKind": "class"}, {"_type": "tag", "name": "quantity", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    quantity = models.PositiveIntegerField()$/", "language": "Python", "kind": "variable", "scope": "OrderItem", "scopeKind": "class"}, {"_type": "tag", "name": "quantity", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    quantity = models.PositiveIntegerField(default=1)$/", "language": "Python", "kind": "variable", "scope": "CartItem", "scopeKind": "class"}, {"_type": "tag", "name": "recalc_total", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    def recalc_total(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "save", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    def save(self, *args, **kwargs):$/", "language": "Python", "kind": "member", "signature": "(self, *args, **kwargs)", "scope": "Category", "scopeKind": "class"}, {"_type": "tag", "name": "save", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    def save(self, *args, **kwargs):$/", "language": "Python", "kind": "member", "signature": "(self, *args, **kwargs)", "scope": "Product", "scopeKind": "class"}, {"_type": "tag", "name": "shipping_address", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    shipping_address = models.TextField()$/", "language": "Python", "kind": "variable", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "slug", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    slug = models.SlugField(max_length=150, unique=True, blank=True)$/", "language": "Python", "kind": "variable", "scope": "Category", "scopeKind": "class"}, {"_type": "tag", "name": "slug", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    slug = models.SlugField(max_length=230, unique=True, blank=True)$/", "language": "Python", "kind": "variable", "scope": "Product", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default=\"pending\")$/", "language": "Python", "kind": "variable", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "stock", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    stock = models.PositiveIntegerField(default=0)$/", "language": "Python", "kind": "variable", "scope": "Product", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    title = models.CharField(max_length=200)$/", "language": "Python", "kind": "variable", "scope": "Product", "scopeKind": "class"}, {"_type": "tag", "name": "total_amount", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    total_amount = models.DecimalField(max_digits=12, decimal_places=2, default=0)$/", "language": "Python", "kind": "variable", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "unique_together", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^        unique_together = (\"cart\", \"product\")$/", "language": "Python", "kind": "variable", "scope": "CartItem.Meta", "scopeKind": "class"}, {"_type": "tag", "name": "unit_price", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    unit_price = models.DecimalField(max_digits=10, decimal_places=2)$/", "language": "Python", "kind": "variable", "scope": "OrderItem", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    updated_at = models.DateTimeField(auto_now=True, db_index=True)$/", "language": "Python", "kind": "variable", "scope": "TimeStampedModel", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    user = models.ForeignKey($/", "language": "Python", "kind": "variable", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/online-shopping-platform-19417-19426/online_kart_backend/api/models.py", "pattern": "/^    user = models.OneToOneField($/", "language": "Python", "kind": "variable", "scope": "Cart", "scopeKind": "class"}], "hash": "2a21e5e8f9d547d74a4988d46435dcce", "format-version": 4, "code-base-name": "online_kart_backend", "filename": "online_kart_backend/api/models.py", "fields": [{"name": "STATUS_CHOICES = [", "scope": "Order", "scopeKind": "class", "description": "unavailable"}, {"name": "abstract = True", "scope": "TimeStampedModel.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "cart = models.ForeignKey(Cart, on_delete=models.CASCADE, related_name=\"items\")", "scope": "CartItem", "scopeKind": "class", "description": "unavailable"}, {"name": "category = models.ForeignKey(", "scope": "Product", "scopeKind": "class", "description": "unavailable"}, {"name": "created_at = models.DateTimeField(auto_now_add=True, db_index=True)", "scope": "TimeStampedModel", "scopeKind": "class", "description": "unavailable"}, {"name": "description = models.TextField(blank=True)", "scope": "Product", "scopeKind": "class", "description": "unavailable"}, {"name": "indexes = [", "scope": "Product.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "is_active = models.BooleanField(default=True)", "scope": "Product", "scopeKind": "class", "description": "unavailable"}, {"name": "name = models.CharField(max_length=120, unique=True)", "scope": "Category", "scopeKind": "class", "description": "unavailable"}, {"name": "order = models.ForeignKey(Order, on_delete=models.CASCADE, related_name=\"items\")", "scope": "OrderItem", "scopeKind": "class", "description": "unavailable"}, {"name": "price = models.DecimalField(max_digits=10, decimal_places=2)", "scope": "Product", "scopeKind": "class", "description": "unavailable"}, {"name": "product = models.ForeignKey(", "scope": "CartItem", "scopeKind": "class", "description": "unavailable"}, {"name": "quantity = models.PositiveIntegerField()", "scope": "OrderItem", "scopeKind": "class", "description": "unavailable"}, {"name": "quantity = models.PositiveIntegerField(default=1)", "scope": "CartItem", "scopeKind": "class", "description": "unavailable"}, {"name": "shipping_address = models.TextField()", "scope": "Order", "scopeKind": "class", "description": "unavailable"}, {"name": "slug = models.SlugField(max_length=150, unique=True, blank=True)", "scope": "Category", "scopeKind": "class", "description": "unavailable"}, {"name": "slug = models.SlugField(max_length=230, unique=True, blank=True)", "scope": "Product", "scopeKind": "class", "description": "unavailable"}, {"name": "status = models.CharField(max_length=20, choices=STATUS_CHOICES, default=\"pending\")", "scope": "Order", "scopeKind": "class", "description": "unavailable"}, {"name": "stock = models.PositiveIntegerField(default=0)", "scope": "Product", "scopeKind": "class", "description": "unavailable"}, {"name": "title = models.CharField(max_length=200)", "scope": "Product", "scopeKind": "class", "description": "unavailable"}, {"name": "total_amount = models.DecimalField(max_digits=12, decimal_places=2, default=0)", "scope": "Order", "scopeKind": "class", "description": "unavailable"}, {"name": "unique_together = (\"cart\", \"product\")", "scope": "CartItem.Meta", "scopeKind": "class", "description": "unavailable"}, {"name": "unit_price = models.DecimalField(max_digits=10, decimal_places=2)", "scope": "OrderItem", "scopeKind": "class", "description": "unavailable"}, {"name": "updated_at = models.DateTimeField(auto_now=True, db_index=True)", "scope": "TimeStampedModel", "scopeKind": "class", "description": "unavailable"}, {"name": "user = models.ForeignKey(", "scope": "Order", "scopeKind": "class", "description": "unavailable"}, {"name": "user = models.OneToOneField(", "scope": "Cart", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"40": "45b874a6edd9fa6239650e8802a7615e31c0be25"}]}